{% extends './base.html' %}

{% block title %}Crear Proyecto - AmicuSoft{% endblock %}

{% block mobile_menu %}
{% include 'includes/mobile_menu_coordinator.html' %}
{% endblock %}

{% block body %}
<div class="sidebar fade-in">
    <a href="#" class="sidebar-brand">AmicuSoft</a>
    
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a href="{{ url_for('panel_coordinador') }}" class="sidebar-nav-link">
                <span>&#127968;</span>
                <span>Panel</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a href="{{ url_for('proyecto_list') }}" class="sidebar-nav-link active">
                <span>&#128196;</span>
                <span>Proyectos</span>
            </a>
        </li>
        <li class="sidebar-nav-item" style="margin-top: auto; padding-top: 24px; border-top: 1px solid var(--border-color);">
            <a href="{{ url_for('logout') }}" class="sidebar-nav-link">
                <span>&#128682;</span>
                <span>Cerrar Sesion</span>
            </a>
        </li>
    </ul>
</div>

<div class="main-content">
    <div class="header-bar slide-up">
        <a href="{{ url_for('proyecto_list') }}" style="color: var(--text-secondary); text-decoration: none; display: flex; align-items: center; gap: 8px;">
            <span>&#8592;</span> Volver a Proyectos
        </a>
    </div>
    
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
        <div class="alert-custom slide-up mt-4">
            <span>&#8505;</span>
            <span>{{ message }}</span>
        </div>
        {% endfor %}
    {% endif %}
    {% endwith %}
    
    <div class="row mt-4 justify-content-center">
        <div class="col-md-8">
            <div class="card-custom slide-up">
                <h1 class="page-title" style="font-size: 1.75rem; margin-bottom: 8px;">Crear Nuevo Proyecto</h1>
                <p style="color: var(--text-secondary); margin-bottom: 32px;">Completa la informacion para crear un nuevo proyecto de recaudacion.</p>
                
                <form method="post" action="{{ url_for('proyecto_create') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    
                    <div class="form-floating-custom">
                        <input type="text" id="nombre" name="nombre" placeholder=" " required>
                        <label for="nombre">Nombre del Proyecto</label>
                    </div>
                    
                    <div class="form-floating-custom">
                        <textarea id="descripcion" name="descripcion" placeholder=" " style="width: 100%; min-height: 120px; padding: 16px 20px; border: 2px solid var(--border-color); border-radius: var(--radius-md); background: var(--bg-secondary); color: var(--text-primary); resize: vertical;"></textarea>
                        <label for="descripcion" style="top: 16px; transform: none;">Descripcion</label>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-floating-custom">
                                <input type="number" id="meta" name="meta" min="1" step="0.01" placeholder=" " required>
                                <label for="meta">Meta de Recaudacion ($)</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating-custom">
                                <input type="date" id="fecha_limite" name="fecha_limite" placeholder=" ">
                                <label for="fecha_limite" style="top: 0; font-size: 0.75rem; background: var(--bg-card);">Fecha Limite (Opcional)</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-flex gap-3 mt-4 justify-content-end">
                        <a href="{{ url_for('proyecto_list') }}" class="btn-outline-custom">
                            Cancelar
                        </a>
                        <button type="submit" class="btn-primary-gradient">
                            Crear Proyecto
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
